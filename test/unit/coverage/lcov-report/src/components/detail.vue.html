<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for src/components/detail.vue</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="..\..\prettify.css" />
    <link rel="stylesheet" href="..\..\base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(..\..\sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="..\..\index.html">All files</a> / <a href="index.html">src/components</a> detail.vue
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>0/42</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>0/24</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>0/11</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>0/35</span>
      </div>
    </div>
  </div>
  <div class='status-line low'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111</td><td class="line-coverage quiet"><span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">&lt;<span class="cstat-no" title="statement not covered" >t<span class="fstat-no" title="function not covered" >em</span>plate&gt;</span>
  &lt;div &gt;
    &lt;div v-if="item"&gt;
<span class="cstat-no" title="statement not covered" >      &lt;img</span>
        :src="item.imgs"
        alt=""
        style="width: 100%; vertical-align:top;display:block"
      /&gt;<span class="cstat-no" title="statement not covered" ></span>
      &lt;div class="o_detailTile"&gt;
        &lt;div cla<span class="cstat-no" title="statement not covered" >ss="o_introduce flex"&gt;</span>
          &lt;div class="flexItem"&gt;&lt;h3&gt;{{item.name}}&lt;/h3&gt;&lt;/div&gt;
          &lt;d<span class="cstat-no" title="statement not covered" >iv class="stock </span>flexItem" &gt;剩余：{{item.num}}&lt;/div&gt;
        &lt;/div&gt;
        &lt;di<span class="cstat-no" title="statement not covered" >v class="o_pric</span>e"&gt;
          &lt;p&gt;&lt;span&gt;{{item.price}}&lt;/span&gt;&lt;/p&gt;
          &lt;p&gt;运费<span class="cstat-no" title="statement not covered" >：免运费&lt;/p&gt;</span>
        &lt;/div&gt;
        &lt;div v-i<span class="cstat-no" title="statement not covered" >f="item.start_time" class="buy_ti</span>me"&gt;
          &lt;p&gt;购买时段：{{item.start_time}} ~ {{item.end_time}}&lt;/p&gt;
        &lt;/div&gt;<span class="cstat-no" title="statement not covered" ></span>
&nbsp;
      &lt;/div&gt;<span class="cstat-no" title="statement not covered" ></span>
      &lt;div class="title"&gt;商品详情&lt;/div&gt;
      &lt;di<span class="fstat-no" title="function not covered" >v class="detail"&gt;<span class="cstat-no" title="statement not covered" ></span></span>
      &lt;div&gt;{{item.desc}}&lt;/div&gt;
<span class="cstat-no" title="statement not covered" >    &lt;/div&gt;</span>
      &lt;div class="Footer"&gt;
        &lt;div class="flex"&gt;
          &lt;div class="flexItem"&gt;
            &lt;div class="flex"&gt;
              &lt;div class="flexItem linkBtn noMargin bordeRight"&gt;&lt;router-link  :to="urlHome" &gt;&lt;i class="iconfont icon-zhuyeup positionIconStyle"/&gt; &lt;/router-link&gt;&lt;/div&gt;
              &lt;di<span class="fstat-no" title="function not covered" >v cla</span>ss="flexItem linkBtn noMargin"&gt;&lt;router-link  to="/micro/cart"&gt;&lt;i  class="positionIconStyle icon-gouwucheup iconfont" style="position: relative"&gt;&lt;badge class="badge" :text="cartNumber"  /&gt;&lt;/i&gt;&lt;/router-link&gt;&lt;/div&gt;
<span class="cstat-no" title="statement not covered" >            &lt;/div&gt;</span>
        &lt;/div&gt;
        &lt;div v-if="!this.$route.query.book" @click="onItemsClick('cart')"  class="cartBtn  button noMargin flexItem"&gt;加入购物车 &lt;/div&gt;
          &lt;div @click="onItemsClick('buy')"  class="buyBtn  button  noMargin flexItem"&gt;立即购买&lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;<span class="fstat-no" title="function not covered" ></span>
<span class="cstat-no" title="statement not covered" >      &lt;addCart /&gt;</span>
    &lt;/div&gt;<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >    &lt;div v-else&gt;</span>
<span class="cstat-no" title="statement not covered" ></span>
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/te<span class="cstat-no" title="statement not covered" >mplate&gt;</span>
&lt;scrip<span class="cstat-no" title="statement not covered" >t&gt;</span>
  import {mapState, mapMutations} from 'vuex'
  im<span class="cstat-no" title="statement not covered" >port {Badge, XButton} fr</span>om 'vux'
  import addCart from './addCart.vue'
  import {getAccessDeviceId} from '@/modal/validator'
  import {specifiedMachine} from '@/utils/helper'
  export default {<span class="fstat-no" title="function not covered" ></span>
    co<span class="cstat-no" title="statement not covered" >mponents: {</span>
      Badge,
      XButton,<span class="fstat-no" title="function not covered" ></span>
<span class="cstat-no" title="statement not covered" >      addCart</span>
    },
    data () {
      return {
        cartNum: 0,<span class="fstat-no" title="function not covered" ></span>
        urlHome:'/micr<span class="cstat-no" title="statement not covered" >o'</span>
<span class="cstat-no" title="statement not covered" >      }</span>
    },
    mounted () {<span class="fstat-no" title="function not covered" ></span>
      this.getPro<span class="cstat-no" title="statement not covered" >duct()</span>
      let urlHome = '/micro'
      if(localSto<span class="cstat-no" title="statement not covered" >rage.getItem('entry') == 'dev</span>ices'){
<span class="cstat-no" title="statement not covered" >        urlHome = "/micro/market/"+getAccessDeviceId();</span>
      }<span class="cstat-no" title="statement not covered" ></span>
&nbsp;
      if(specifiedMachine()){
        urlHome = "/micro/?deviceId="+getAccessDeviceId()+"&amp;fixed=1";
      }<span class="cstat-no" title="statement not covered" ></span>
      this.urlHome = urlHome
<span class="cstat-no" title="statement not covered" ></span>
    },<span class="cstat-no" title="statement not covered" ></span>
    computed: {
      ...mapState({
        cartNumber: state =&gt; state.cart.cartNumber,
        item: state =&gt; state.detail.item
      })
    },
    methods: {
      ...mapMutations([
        'setCartModal',
        'setCartCurrentValue'
      ]),
      getProduct: function () {
        const productId = this.$route.query.id
        this.$store.dispatch('getItem', {productId})
      },
      onItemsClick: function (type) {
        const {item} = this
        const cart = localStorage.getItem('cart')
        if (cart &amp;&amp; JSON.parse(cart).length &gt; 9) {
          this.$vux.toast.show({
            text: '购物车不得多于10件商品！',
            type: 'cancel'
          })
          return
        }
        this.setCartModal({isShowAddCart: true})
        this.setCartCurrentValue({currentItem: item, type})
      }
    }
  }
&lt;/script&gt;
&lt;style lang="less" scope&gt;
@import "detail.less";
&lt;/style&gt;
&nbsp;</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="https://istanbul.js.org/" target="_blank">istanbul</a> at Thu Mar 29 2018 12:19:33 GMT+0800 (中国标准时间)
</div>
</div>
<script src="..\..\prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="..\..\sorter.js"></script>
</body>
</html>
